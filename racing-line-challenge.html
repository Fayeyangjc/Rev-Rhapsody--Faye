<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Racing Line Simulator</title>
    <style>
        body { text-align: center; font-family: Arial, sans-serif; }
        canvas { border: 2px solid black; background-color: #f0f0f0; }
    </style>
</head>
<body>

    <h2>ğŸ Racing Line Simulator ğŸï¸</h2>
    <canvas id="racingCanvas" width="800" height="600"></canvas>
    <p>Drag the car to draw your racing line!</p>

    <script>
        const canvas = document.getElementById("racingCanvas");
        const ctx = canvas.getContext("2d");

        let trackImg = new Image();
        trackImg.src = "pics/æˆªå±2025-03-04 ä¸‹åˆ6.15.44.png"; // è¯·æ›¿æ¢æˆä½ çš„èµ›é“å›¾ç‰‡è·¯å¾„
        let carImg = new Image();
        carImg.src = "pics/æˆªå±2025-03-04 ä¸‹åˆ6.08.10.png"; // ä½ å¯ä»¥æ¢æˆæ›´å¥½çš„èµ›è½¦å›¾æ ‡

        let car = { x: 100, y: 100, width: 30, height: 30, dragging: false };
        let racingPath = [];

        // åŠ è½½èµ›é“å›¾ç‰‡
        trackImg.onload = function () {
            ctx.drawImage(trackImg, 0, 0, canvas.width, canvas.height);
            drawCar();
        };

        function drawCar() {
            ctx.drawImage(carImg, car.x - car.width / 2, car.y - car.height / 2, car.width, car.height);
        }

        // ç›‘å¬é¼ æ ‡äº‹ä»¶
        canvas.addEventListener("mousedown", function (e) {
            const { offsetX, offsetY } = e;
            if (
                offsetX > car.x - car.width / 2 &&
                offsetX < car.x + car.width / 2 &&
                offsetY > car.y - car.height / 2 &&
                offsetY < car.y + car.height / 2
            ) {
                car.dragging = true;
                racingPath = []; // å¼€å§‹æ–°è½¨è¿¹
            }
        });

        canvas.addEventListener("mousemove", function (e) {
            if (car.dragging) {
                const { offsetX, offsetY } = e;
                car.x = offsetX;
                car.y = offsetY;
                racingPath.push({ x: offsetX, y: offsetY });

                // é‡æ–°ç»˜åˆ¶
                ctx.drawImage(trackImg, 0, 0, canvas.width, canvas.height);
                drawPath();
                drawCar();
            }
        });

        canvas.addEventListener("mouseup", function () {
            car.dragging = false;
        });

        function drawPath() {
            ctx.beginPath();
            ctx.strokeStyle = "red";
            ctx.lineWidth = 2;
            ctx.moveTo(racingPath[0]?.x, racingPath[0]?.y);
            for (let i = 1; i < racingPath.length; i++) {
                ctx.lineTo(racingPath[i].x, racingPath[i].y);
            }
            ctx.stroke();
        }
    </script>

</body>
</html> 